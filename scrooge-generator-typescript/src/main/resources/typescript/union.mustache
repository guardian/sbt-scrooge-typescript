{{>autogen}}

{{> imports}}

export type {{typeName}} =
    {{#fields}}
    {
        kind: "{{name}}",
        {{name}}{{#isOptional}}?{{/isOptional}}: {{typescriptType}}
    } {{^isLastField}}|{{/isLastField}}{{#isLastField}};{{/isLastField}}
    {{/fields}}

export class {{companionName}} {
    {{> union_read}}
    {{> union_write}}
}